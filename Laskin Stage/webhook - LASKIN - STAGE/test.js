var module = require('./')

const order =  {
    "id": 88889,
    "admin_graphql_api_id": "gid://shopify/Order/5877530722604",
    "app_id": 580111,
    "browser_ip": "190.128.39.216",
    "buyer_accepts_marketing": true,
    "cancel_reason": null,
    "cancelled_at": null,
    "cart_token": "Z2NwLXVzLWVhc3QxOjAxSFlZOUM3UTMwWkhWOVg1S0ZKQ1ZXMkpE",
    "checkout_id": 37661051060524,
    "checkout_token": "f24a8070c534996e177e027f62e72919",
    "client_details": {
        "accept_language": "es",
        "browser_height": null,
        "browser_ip": "190.128.39.216",
        "browser_width": null,
        "session_hash": null,
        "user_agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 17_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/21E236 Instagram 332.0.2.29.94 (iPhone12,1; iOS 17_4_1; es_ES; es; scale=2.00; 828x1792; 600349675)"
    },
    "closed_at": "2024-05-29T22:59:32-05:00",
    "confirmation_number": "PYRYYJ6AN",
    "confirmed": true,
    "contact_email": "lamaalher700@gmail.com",
    "created_at": "2024-05-29T22:59:29-05:00",
    "currency": "COP",
    "current_subtotal_price": "150000.00",
    "current_subtotal_price_set": {
        "shop_money": {
            "amount": "150000.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "150000.00",
            "currency_code": "COP"
        }
    },
    "current_total_additional_fees_set": null,
    "current_total_discounts": "0.00",
    "current_total_discounts_set": {
        "shop_money": {
            "amount": "0.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "0.00",
            "currency_code": "COP"
        }
    },
    "current_total_duties_set": null,
    "current_total_price": "150000.00",
    "current_total_price_set": {
        "shop_money": {
            "amount": "150000.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "150000.00",
            "currency_code": "COP"
        }
    },
    "current_total_tax": "0.00",
    "current_total_tax_set": {
        "shop_money": {
            "amount": "0.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "0.00",
            "currency_code": "COP"
        }
    },
    "customer_locale": "es-CO",
    "device_id": null,
    "discount_codes": [],
    "email": "lamaalher700@gmail.com",
    "estimated_taxes": false,
    "financial_status": "paid",
    "fulfillment_status": "fulfilled",
    "landing_site": "/collections/ofertas",
    "landing_site_ref": null,
    "location_id": null,
    "merchant_of_record_app_id": null,
    "name": "LSK08525",
    "note": null,
    "note_attributes": [],
    "number": 7525,
    "order_number": 8525,
    "order_status_url": "https://laskin.com.co/78955970860/orders/81b5a38cc723e0cf248252870a429ca4/authenticate?key=9c355b341637a27fb002bb8717c2ef3b&none=UQVdBldBV11RTlM",
    "original_total_additional_fees_set": null,
    "original_total_duties_set": null,
    "payment_gateway_names": [
        "Wompi"
    ],
    "phone": null,
    "po_number": null,
    "presentment_currency": "COP",
    "processed_at": "2024-05-29T22:59:27-05:00",
    "reference": "072052c45cc03cfe8ece66f7f6b21d74",
    "referring_site": "https://linktr.ee/",
    "source_identifier": "072052c45cc03cfe8ece66f7f6b21d74",
    "source_name": "web",
    "source_url": null,
    "subtotal_price": "150000.00",
    "subtotal_price_set": {
        "shop_money": {
            "amount": "150000.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "150000.00",
            "currency_code": "COP"
        }
    },
    "tags": "",
    "tax_exempt": false,
    "tax_lines": [],
    "taxes_included": true,
    "test": false,
    "token": "81b5a38cc723e0cf248252870a429ca4",
    "total_discounts": "0.00",
    "total_discounts_set": {
        "shop_money": {
            "amount": "0.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "0.00",
            "currency_code": "COP"
        }
    },
    "total_line_items_price": "150000.00",
    "total_line_items_price_set": {
        "shop_money": {
            "amount": "150000.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "150000.00",
            "currency_code": "COP"
        }
    },
    "total_outstanding": "0.00",
    "total_price": "150000.00",
    "total_price_set": {
        "shop_money": {
            "amount": "150000.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "150000.00",
            "currency_code": "COP"
        }
    },
    "total_shipping_price_set": {
        "shop_money": {
            "amount": "0.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "0.00",
            "currency_code": "COP"
        }
    },
    "total_tax": "0.00",
    "total_tax_set": {
        "shop_money": {
            "amount": "0.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "0.00",
            "currency_code": "COP"
        }
    },
    "total_tip_received": "0.00",
    "total_weight": 0,
    "updated_at": "2024-05-29T22:59:32-05:00",
    "user_id": null,
    "billing_address": {
        "first_name": "Laura marcela",
        "address1": "Manzana 2 casa 20 san fernando la playa",
        "phone": "+573226390394",
        "city": "Pereira",
        "zip": null,
        "province": "Risaralda",
        "country": "Colombia",
        "last_name": "Alvarez Hernandez",
        "address2": "San fernando la playa",
        "company": "1004752858",
        "latitude": 4.8061275,
        "longitude": -75.7427507,
        "name": "Laura marcela Alvarez Hernandez",
        "country_code": "CO",
        "province_code": "RIS"
    },
    "customer": {
        "id": 8099797434668,
        "email": "lamaalher700@gmail.com",
        "created_at": "2024-05-27T19:32:16-05:00",
        "updated_at": "2024-05-29T22:59:29-05:00",
        "first_name": "Laura marcela",
        "last_name": "Alvarez Hernandez",
        "state": "disabled",
        "note": null,
        "verified_email": true,
        "multipass_identifier": null,
        "tax_exempt": false,
        "phone": null,
        "email_marketing_consent": {
            "state": "subscribed",
            "opt_in_level": "single_opt_in",
            "consent_updated_at": "2024-05-29T22:59:29-05:00"
        },
        "sms_marketing_consent": null,
        "tags": "",
        "currency": "COP",
        "accepts_marketing": true,
        "accepts_marketing_updated_at": "2024-05-29T22:59:29-05:00",
        "marketing_opt_in_level": "single_opt_in",
        "tax_exemptions": [],
        "admin_graphql_api_id": "gid://shopify/Customer/8099797434668",
        "default_address": {
            "id": 10171116192044,
            "customer_id": 8099797434668,
            "first_name": "Laura marcela",
            "last_name": "Alvarez Hernandez",
            "company": "1004752858",
            "address1": "Manzana 2 casa 20 san fernando la playa",
            "address2": "San fernando la playa",
            "city": "Pereira",
            "province": "Risaralda",
            "country": "Colombia",
            "zip": null,
            "phone": "+573226390394",
            "name": "Laura marcela Alvarez Hernandez",
            "province_code": "RIS",
            "country_code": "CO",
            "country_name": "Colombia",
            "default": true
        }
    },
    "discount_applications": [],
    "fulfillments": [
        {
            "id": 5172193558828,
            "admin_graphql_api_id": "gid://shopify/Fulfillment/5172193558828",
            "created_at": "2024-05-29T22:59:32-05:00",
            "location_id": 90929758508,
            "name": "LSK08525.1",
            "order_id": 5877530722604,
            "origin_address": {},
            "receipt": {},
            "service": "manual",
            "shipment_status": null,
            "status": "success",
            "tracking_company": null,
            "tracking_number": null,
            "tracking_numbers": [],
            "tracking_url": null,
            "tracking_urls": [],
            "updated_at": "2024-05-29T22:59:32-05:00",
            "line_items": [
                {
                    "id": 14876585066796,
                    "admin_graphql_api_id": "gid://shopify/LineItem/14876585066796",
                    "attributed_staffs": [],
                    "fulfillable_quantity": 0,
                    "fulfillment_service": "manual",
                    "fulfillment_status": "fulfilled",
                    "gift_card": false,
                    "grams": 0,
                    "name": "Limpieza Facial Profunda + Hidratación Con Mascarilla TAZ",
                    "price": "150000.00",
                    "price_set": {
                        "shop_money": {
                            "amount": "150000.00",
                            "currency_code": "COP"
                        },
                        "presentment_money": {
                            "amount": "150000.00",
                            "currency_code": "COP"
                        }
                    },
                    "product_exists": true,
                    "product_id": 9317216616748,
                    "properties": [
                        {
                            "name": "Sede",
                            "value": "Pereira-Circunvalar"
                        }
                    ],
                    "quantity": 1,
                    "requires_shipping": false,
                    "sku": "H-13813",
                    "taxable": false,
                    "title": "Limpieza Facial Profunda + Hidratación Con Mascarilla TAZ",
                    "total_discount": "0.00",
                    "total_discount_set": {
                        "shop_money": {
                            "amount": "0.00",
                            "currency_code": "COP"
                        },
                        "presentment_money": {
                            "amount": "0.00",
                            "currency_code": "COP"
                        }
                    },
                    "variant_id": 48997309579564,
                    "variant_inventory_management": null,
                    "variant_title": null,
                    "vendor": "LASKIN",
                    "tax_lines": [
                        {
                            "channel_liable": false,
                            "price": "0.00",
                            "price_set": {
                                "shop_money": {
                                    "amount": "0.00",
                                    "currency_code": "COP"
                                },
                                "presentment_money": {
                                    "amount": "0.00",
                                    "currency_code": "COP"
                                }
                            },
                            "rate": 0.19,
                            "title": "VAT"
                        }
                    ],
                    "duties": [],
                    "discount_allocations": []
                }
            ]
        }
    ],
    "line_items": [
        {
            "id": 14876585066796,
            "admin_graphql_api_id": "gid://shopify/LineItem/14876585066796",
            "attributed_staffs": [],
            "fulfillable_quantity": 0,
            "fulfillment_service": "manual",
            "fulfillment_status": "fulfilled",
            "gift_card": false,
            "grams": 0,
            "name": "Limpieza Facial Profunda + Hidratación Con Mascarilla TAZ",
            "price": "150000.00",
            "price_set": {
                "shop_money": {
                    "amount": "150000.00",
                    "currency_code": "COP"
                },
                "presentment_money": {
                    "amount": "150000.00",
                    "currency_code": "COP"
                }
            },
            "product_exists": true,
            "product_id": 9317216616748,
            "properties": [
                {
                    "name": "Sede",
                    "value": "Pereira-Circunvalar"
                }
            ],
            "quantity": 1,
            "requires_shipping": false,
            "sku": "H-13813",
            "taxable": false,
            "title": "Limpieza Facial Profunda + Hidratación Con Mascarilla TAZ",
            "total_discount": "0.00",
            "total_discount_set": {
                "shop_money": {
                    "amount": "0.00",
                    "currency_code": "COP"
                },
                "presentment_money": {
                    "amount": "0.00",
                    "currency_code": "COP"
                }
            },
            "variant_id": 48997309579564,
            "variant_inventory_management": null,
            "variant_title": null,
            "vendor": "LASKIN",
            "tax_lines": [
                {
                    "channel_liable": false,
                    "price": "0.00",
                    "price_set": {
                        "shop_money": {
                            "amount": "0.00",
                            "currency_code": "COP"
                        },
                        "presentment_money": {
                            "amount": "0.00",
                            "currency_code": "COP"
                        }
                    },
                    "rate": 0.19,
                    "title": "VAT"
                }
            ],
            "duties": [],
            "discount_allocations": []
        }
    ],
    "payment_terms": null,
    "refunds": [],
    "shipping_address": null,
    "shipping_lines": []
}

/* 
module.handler({
    httpMethod: 'POST',
    path: '/api/order/createlocation',
    headers: {},
    body: JSON.stringify(location)
}).then((response) => {
    console.log("OK");
});
 */
 
module.handler({
    httpMethod: 'POST',
    path: '/api/order/createorder',
    headers: {},
    body: JSON.stringify(order)
}).then((response) => {
    console.log("OK");
});
 

/* module.handler({
    httpMethod: 'POST',
    path: '/api/product/updateinventory',
    headers: {},
    body: JSON.stringify(inventory)
}).then((response) => {
    console.log("OK");
}); */



/* module.handler({
    httpMethod: 'POST',
    path: '/api/order/updateorder',
    headers: {},
    body: JSON.stringify(order)
}).then((response) => {
    console.log("OK");
}); */


const transaction = {
    "id": 6783002673452,
    "order_id": 5611807768876,
    "kind": "sale",
    "gateway": "Wompi",
    "status": "success",
    "message": null,
    "created_at": "2023-11-19T23:50:57-05:00",
    "test": false,
    "authorization": null,
    "location_id": null,
    "user_id": null,
    "parent_id": null,
    "processed_at": "2023-11-19T23:50:57-05:00",
    "device_id": null,
    "error_code": null,
    "source_name": "web",
    "receipt": {
        "payment_id": "rGvPQbVmaggcmmzSP0933vTob"
    },
    "amount": "27500.00",
    "currency": "COP",
    "payment_id": "rGvPQbVmaggcmmzSP0933vTob",
    "total_unsettled_set": {
        "presentment_money": {
            "amount": "0.0",
            "currency": "COP"
        },
        "shop_money": {
            "amount": "0.0",
            "currency": "COP"
        }
    },
    "admin_graphql_api_id": "gid://shopify/OrderTransaction/6783002673452"
}

/* module.handler({
    httpMethod: 'POST',
    path: '/api/order/createtransaction',
    headers: {},
    body: JSON.stringify(transaction)
}).then((response) => {
    console.log("OK");
}); */

/* module.handler({
    httpMethod: 'POST', 
    path: '/api/product/updateorder',
    headers: {},
    body: JSON.stringify(order)
}, {}, (a, b) => {
    console.log(b);
})
 */

/* module.handler({
    httpMethod: 'PUT', 
    path: '/api/order/modifyorder',
    headers: {},
    body: JSON.stringify(body)
}, {}, (a, b) => {
    console.log(b);
}) */

/*  module.handler({
    httpMethod: 'GET',
    path: '/api/product/productshw',
    headers: {},
    body: {}
}).then((response) => {
    console.log(response);
}); */

/* 
module.handler({
    httpMethod: 'GET',
    path: '/api/product/products',
    headers: {},
    body: {}
}).then((response) => {
    console.log(response);
});
 */


/*  module.handler({
    httpMethod: 'GET',
    path: '/api/product/procedureshw',
    headers: {},
    body: {}
}).then((response) => {
    console.log(response);
});  */

/* module.handler({
    httpMethod: 'GET',
    path: '/api/product/procedures',
    headers: {},
    body: {}
}).then((response) => {
    console.log(response);
});
 */


/* module.handler({
    httpMethod: 'GET',
    path: '/api/product/orders',
    headers: {},
    body: {}
}).then((response) => {
    console.log(response);
});
 */
const order1 = {
    "response_code": 9999,
    "response_message": "error,create",
    "order_ref": "5692764291304",
    "order_id": "1111",
    "state": 3
}


/* module.handler({
    httpMethod: 'POST',
    path: '/api/order/modifyorder',
    headers: {},
    body: JSON.stringify(order1)
}).then((response) => {
    console.log("OK");
}); */

const product = {
    "id": 8637713973480,
    "variants": [
        {
            "sku": "U-4783",
            "weight": 190000
        }
    ]
}

const productupdate =  {
    "id": 8637719707880,
    "title": "KIT NUTRATOPIC CREMA GEL BANO ISDIN",
    "body_html": "001.Limpiadores, 002.Piel sensible, 003.Todo tipo de piel, Limpiadores, Piel sensible, Todo tipo de piel",
    "vendor": "ISDIN",
    "product_type": "PRODUCTO",
    "created_at": "2024-04-01T17:56:40-04:00",
    "handle": "kit-nutratopic-crema-gel-bano-isdin",
    "updated_at": "2024-05-29T07:49:00-04:00",
    "published_at": "2024-04-02T14:38:19-04:00",
    "template_suffix": "",
    "published_scope": "web",
    "tags": "001.Limpiadores, 002.Piel sensible, 003.Todo tipo de piel, Limpiadores, Piel sensible, PRODUCTO, Todo tipo de piel",
    "status": "active",
    "admin_graphql_api_id": "gid://shopify/Product/8637719707880",
    "variants": [
        {
            "id": 45995462099176,
            "product_id": 8637719707880,
            "title": "Default Title",
            "price": "50000.00",
            "sku": "U-5568",
            "position": 1,
            "inventory_policy": "deny",
            "compare_at_price": "100000.00",
            "fulfillment_service": "manual",
            "inventory_management": "shopify",
            "option1": "Default Title",
            "option2": null,
            "option3": null,
            "created_at": "2024-05-04T13:47:12-04:00",
            "updated_at": "2024-05-29T07:49:00-04:00",
            "taxable": true,
            "barcode": "8429420248632",
            "grams": 40500000,
            "weight": 40500.0,
            "weight_unit": "kg",
            "inventory_item_id": 48153959137512,
            "inventory_quantity": 1,
            "old_inventory_quantity": 1,
            "requires_shipping": true,
            "admin_graphql_api_id": "gid://shopify/ProductVariant/45995462099176",
            "image_id": null
        }
    ],
    "options": [
        {
            "id": 11114364535016,
            "product_id": 8637719707880,
            "name": "Title",
            "position": 1,
            "values": [
                "Default Title"
            ]
        }
    ],
    "images": [],
    "image": null
}

/* module.handler({
    httpMethod: 'POST',
    path: '/api/product/updateproduct',
    headers: {},
    body: JSON.stringify(productupdate)
}).then((response) => {
    console.log("OK");
});*/