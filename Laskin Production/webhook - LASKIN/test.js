var module = require('./')

const order = {
    "id": 5884084191532,
    "admin_graphql_api_id": "gid://shopify/Order/5884084191532",
    "app_id": 580111,
    "browser_ip": "181.53.197.13",
    "buyer_accepts_marketing": true,
    "cancel_reason": null,
    "cancelled_at": null,
    "cart_token": "Z2NwLXVzLWNlbnRyYWwxOjAxSFpKREI5MTk3UkFLOURGQlhNU1c1NzM1",
    "checkout_id": 37683476922668,
    "checkout_token": "c940f373b17f0084695e3899cf0c5e3b",
    "client_details": {
        "accept_language": "es-CO",
        "browser_height": null,
        "browser_ip": "181.53.197.13",
        "browser_width": null,
        "session_hash": null,
        "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/125.0.0.0 Safari/537.36"
    },
    "closed_at": "2024-06-04T15:03:56-05:00",
    "confirmation_number": "R8VTMUFEN",
    "confirmed": true,
    "contact_email": "libiacruzs@yahoo.es",
    "created_at": "2024-06-04T15:03:53-05:00",
    "currency": "COP",
    "current_subtotal_price": "220000.00",
    "current_subtotal_price_set": {
        "shop_money": {
            "amount": "220000.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "220000.00",
            "currency_code": "COP"
        }
    },
    "current_total_additional_fees_set": null,
    "current_total_discounts": "0.00",
    "current_total_discounts_set": {
        "shop_money": {
            "amount": "0.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "0.00",
            "currency_code": "COP"
        }
    },
    "current_total_duties_set": null,
    "current_total_price": "220000.00",
    "current_total_price_set": {
        "shop_money": {
            "amount": "220000.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "220000.00",
            "currency_code": "COP"
        }
    },
    "current_total_tax": "35126.05",
    "current_total_tax_set": {
        "shop_money": {
            "amount": "35126.05",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "35126.05",
            "currency_code": "COP"
        }
    },
    "customer_locale": "es-CO",
    "device_id": null,
    "discount_codes": [],
    "email": "libiacruzs@yahoo.es",
    "estimated_taxes": false,
    "financial_status": "paid",
    "fulfillment_status": "fulfilled",
    "landing_site": "/collections/ofertas?utm_source=google&utm_medium=cpc&utm_campaign=general_eventos&gclid=Cj0KCQjw9vqyBhCKARIsAIIcLMGVYOBuDbLgK6ywD1nQHES2IG6pIB7T595lEB_7qEpHR-oBHQUiXQMaAh_yEALw_wcB",
    "landing_site_ref": null,
    "location_id": null,
    "merchant_of_record_app_id": null,
    "name": "LSK08680",
    "note": null,
    "note_attributes": [],
    "number": 7680,
    "order_number": 8680,
    "order_status_url": "https://laskin.com.co/78955970860/orders/afc40deb1931ecdbdfb8215b464ebda8/authenticate?key=c19397cc0349751fc8ecad30fe80a78d&none=UQVdBldBV11RTlM",
    "original_total_additional_fees_set": null,
    "original_total_duties_set": null,
    "payment_gateway_names": [
        "Wompi"
    ],
    "phone": null,
    "po_number": null,
    "presentment_currency": "COP",
    "processed_at": "2024-06-04T15:03:52-05:00",
    "reference": "a8f2868648fbc93a169662aad0725bcb",
    "referring_site": "https://www.google.com/",
    "source_identifier": "a8f2868648fbc93a169662aad0725bcb",
    "source_name": "web",
    "source_url": null,
    "subtotal_price": "220000.00",
    "subtotal_price_set": {
        "shop_money": {
            "amount": "220000.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "220000.00",
            "currency_code": "COP"
        }
    },
    "tags": "",
    "tax_exempt": false,
    "tax_lines": [
        {
            "price": "35126.05",
            "rate": 0.19,
            "title": "VAT",
            "price_set": {
                "shop_money": {
                    "amount": "35126.05",
                    "currency_code": "COP"
                },
                "presentment_money": {
                    "amount": "35126.05",
                    "currency_code": "COP"
                }
            },
            "channel_liable": false
        }
    ],
    "taxes_included": true,
    "test": false,
    "token": "afc40deb1931ecdbdfb8215b464ebda8",
    "total_discounts": "0.00",
    "total_discounts_set": {
        "shop_money": {
            "amount": "0.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "0.00",
            "currency_code": "COP"
        }
    },
    "total_line_items_price": "220000.00",
    "total_line_items_price_set": {
        "shop_money": {
            "amount": "220000.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "220000.00",
            "currency_code": "COP"
        }
    },
    "total_outstanding": "0.00",
    "total_price": "220000.00",
    "total_price_set": {
        "shop_money": {
            "amount": "220000.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "220000.00",
            "currency_code": "COP"
        }
    },
    "total_shipping_price_set": {
        "shop_money": {
            "amount": "0.00",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "0.00",
            "currency_code": "COP"
        }
    },
    "total_tax": "35126.05",
    "total_tax_set": {
        "shop_money": {
            "amount": "35126.05",
            "currency_code": "COP"
        },
        "presentment_money": {
            "amount": "35126.05",
            "currency_code": "COP"
        }
    },
    "total_tip_received": "0.00",
    "total_weight": 178200000,
    "updated_at": "2024-06-04T15:03:56-05:00",
    "user_id": null,
    "billing_address": {
        "first_name": "Libia",
        "address1": "Calle 34 A # 2AN-70 Edificio Terrazzino Apto 402 de la Torre B",
        "phone": "3148200342",
        "city": "CALI",
        "zip": "2",
        "province": "Valle del Cauca",
        "country": "Colombia",
        "last_name": "CRUZ SANCHEZ",
        "address2": "Prados del Norte",
        "company": "31195468",
        "latitude": null,
        "longitude": null,
        "name": "Libia CRUZ SANCHEZ",
        "country_code": "CO",
        "province_code": "VAC"
    },
    "customer": {
        "id": 7538470945068,
        "email": "libiacruzs@yahoo.es",
        "created_at": "2023-11-20T11:09:08-05:00",
        "updated_at": "2024-06-04T15:03:54-05:00",
        "first_name": "Libia",
        "last_name": "CRUZ SANCHEZ",
        "state": "disabled",
        "note": null,
        "verified_email": true,
        "multipass_identifier": null,
        "tax_exempt": false,
        "phone": "+573148200342",
        "email_marketing_consent": {
            "state": "subscribed",
            "opt_in_level": "single_opt_in",
            "consent_updated_at": "2023-11-20T11:09:08-05:00"
        },
        "sms_marketing_consent": {
            "state": "subscribed",
            "opt_in_level": "single_opt_in",
            "consent_updated_at": "2024-06-04T15:03:54-05:00",
            "consent_collected_from": "SHOPIFY"
        },
        "tags": "",
        "currency": "COP",
        "accepts_marketing": true,
        "accepts_marketing_updated_at": "2023-11-20T11:09:08-05:00",
        "marketing_opt_in_level": "single_opt_in",
        "tax_exemptions": [],
        "admin_graphql_api_id": "gid://shopify/Customer/7538470945068",
        "default_address": {
            "id": 10181641011500,
            "customer_id": 7538470945068,
            "first_name": "Libia",
            "last_name": "CRUZ SANCHEZ",
            "company": "31195468",
            "address1": "Calle 34 A # 2AN-70 Edificio Terrazzino Apto 402 de la Torre B",
            "address2": "Prados del Norte",
            "city": "CALI",
            "province": "Valle del Cauca",
            "country": "Colombia",
            "zip": "2",
            "phone": "3148200342",
            "name": "Libia CRUZ SANCHEZ",
            "province_code": "VAC",
            "country_code": "CO",
            "country_name": "Colombia",
            "default": true
        }
    },
    "discount_applications": [],
    "fulfillments": [
        {
            "id": 5178333692204,
            "admin_graphql_api_id": "gid://shopify/Fulfillment/5178333692204",
            "created_at": "2024-06-04T15:03:56-05:00",
            "location_id": 90929758508,
            "name": "LSK08680.1",
            "order_id": 5884084191532,
            "origin_address": {},
            "receipt": {},
            "service": "manual",
            "shipment_status": null,
            "status": "success",
            "tracking_company": null,
            "tracking_number": null,
            "tracking_numbers": [],
            "tracking_url": null,
            "tracking_urls": [],
            "updated_at": "2024-06-04T15:03:56-05:00",
            "line_items": [
                {
                    "id": 14888636186924,
                    "admin_graphql_api_id": "gid://shopify/LineItem/14888636186924",
                    "attributed_staffs": [],
                    "fulfillable_quantity": 0,
                    "fulfillment_service": "manual",
                    "fulfillment_status": "fulfilled",
                    "gift_card": false,
                    "grams": 178200000,
                    "name": "Azelac RU Suero Despigmentante 30ml SESDERMA®",
                    "price": "220000.00",
                    "price_set": {
                        "shop_money": {
                            "amount": "220000.00",
                            "currency_code": "COP"
                        },
                        "presentment_money": {
                            "amount": "220000.00",
                            "currency_code": "COP"
                        }
                    },
                    "product_exists": true,
                    "product_id": 8491679842604,
                    "properties": [],
                    "quantity": 1,
                    "requires_shipping": true,
                    "sku": "U-50",
                    "taxable": true,
                    "title": "Azelac RU Suero Despigmentante 30ml SESDERMA®",
                    "total_discount": "0.00",
                    "total_discount_set": {
                        "shop_money": {
                            "amount": "0.00",
                            "currency_code": "COP"
                        },
                        "presentment_money": {
                            "amount": "0.00",
                            "currency_code": "COP"
                        }
                    },
                    "variant_id": 49080216092972,
                    "variant_inventory_management": null,
                    "variant_title": null,
                    "vendor": "SESDERMA",
                    "tax_lines": [
                        {
                            "channel_liable": false,
                            "price": "35126.05",
                            "price_set": {
                                "shop_money": {
                                    "amount": "35126.05",
                                    "currency_code": "COP"
                                },
                                "presentment_money": {
                                    "amount": "35126.05",
                                    "currency_code": "COP"
                                }
                            },
                            "rate": 0.19,
                            "title": "VAT"
                        }
                    ],
                    "duties": [],
                    "discount_allocations": []
                }
            ]
        }
    ],
    "line_items": [
        {
            "id": 14888636186924,
            "admin_graphql_api_id": "gid://shopify/LineItem/14888636186924",
            "attributed_staffs": [],
            "fulfillable_quantity": 0,
            "fulfillment_service": "manual",
            "fulfillment_status": "fulfilled",
            "gift_card": false,
            "grams": 178200000,
            "name": "Azelac RU Suero Despigmentante 30ml SESDERMA®",
            "price": "220000.00",
            "price_set": {
                "shop_money": {
                    "amount": "220000.00",
                    "currency_code": "COP"
                },
                "presentment_money": {
                    "amount": "220000.00",
                    "currency_code": "COP"
                }
            },
            "product_exists": true,
            "product_id": 8491679842604,
            "properties": [],
            "quantity": 1,
            "requires_shipping": true,
            "sku": "U-50",
            "taxable": true,
            "title": "Azelac RU Suero Despigmentante 30ml SESDERMA®",
            "total_discount": "0.00",
            "total_discount_set": {
                "shop_money": {
                    "amount": "0.00",
                    "currency_code": "COP"
                },
                "presentment_money": {
                    "amount": "0.00",
                    "currency_code": "COP"
                }
            },
            "variant_id": 49080216092972,
            "variant_inventory_management": null,
            "variant_title": null,
            "vendor": "SESDERMA",
            "tax_lines": [
                {
                    "channel_liable": false,
                    "price": "35126.05",
                    "price_set": {
                        "shop_money": {
                            "amount": "35126.05",
                            "currency_code": "COP"
                        },
                        "presentment_money": {
                            "amount": "35126.05",
                            "currency_code": "COP"
                        }
                    },
                    "rate": 0.19,
                    "title": "VAT"
                }
            ],
            "duties": [],
            "discount_allocations": []
        }
    ],
    "payment_terms": null,
    "refunds": [],
    "shipping_address": {
        "first_name": "Libia",
        "address1": "Calle 34 A # 2AN-70 Edificio Terrazzino Apto 402 de la Torre B",
        "phone": "3148200342",
        "city": "CALI",
        "zip": "2",
        "province": "Valle del Cauca",
        "country": "Colombia",
        "last_name": "CRUZ SANCHEZ",
        "address2": "Prados del Norte",
        "company": "31195468",
        "latitude": 3.4701594,
        "longitude": -76.5184534,
        "name": "Libia CRUZ SANCHEZ",
        "country_code": "CO",
        "province_code": "VAC"
    },
    "shipping_lines": [
        {
            "id": 4709181686060,
            "carrier_identifier": "650f1a14fa979ec5c74d063e968411d4",
            "code": "Envío gratuito",
            "discounted_price": "0.00",
            "discounted_price_set": {
                "shop_money": {
                    "amount": "0.00",
                    "currency_code": "COP"
                },
                "presentment_money": {
                    "amount": "0.00",
                    "currency_code": "COP"
                }
            },
            "phone": null,
            "price": "0.00",
            "price_set": {
                "shop_money": {
                    "amount": "0.00",
                    "currency_code": "COP"
                },
                "presentment_money": {
                    "amount": "0.00",
                    "currency_code": "COP"
                }
            },
            "requested_fulfillment_service_id": null,
            "source": "shopify",
            "title": "Envío gratuito",
            "tax_lines": [],
            "discount_allocations": []
        }
    ]
}

module.handler({
    httpMethod: 'POST',
    path: '/api/order/createorder',
    headers: {},
    body: JSON.stringify(order)
}).then((response) => {
    console.log("OK");
});
 

/* module.handler({
    httpMethod: 'POST',
    path: '/api/order/createtransaction',
    headers: {},
    body: JSON.stringify(transaction)
}).then((response) => {
    console.log("OK");
}); */


const product2 = {
    "id": 8491723751724,
    "title": "Sesretinal Mature Skin Liposomal Serum 30ml SESDERMA®",
    "body_html": "<font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Serum renovador indicado para el tratamiento antiaging intensivo en todo tipo de pieles, hidrata la piel en profundidad aportando jugosidad y confort a la vez que minimiza las líneas de expresión y las arrugas y reduce las manchas gracias a su formulación con Retinol de alta tolerancia.</font></font><br><br>",
    "vendor": "SESDERMA",
    "product_type": "PRODUCTO",
    "created_at": "2023-07-24T23:14:34-05:00",
    "handle": "sesretinal-mature-skin-30ml-serum",
    "updated_at": "2024-05-28T21:40:15-05:00",
    "published_at": "2024-03-04T16:38:23-05:00",
    "template_suffix": "",
    "published_scope": "web",
    "tags": "001.Hidratantes, 002.Sequedad u opacidad, 003.Todo tipo de piel, Cara, Cuidado Facial, Hidratantes, PRODUCTO, Sequedad u opacidad, Sueros y Tratamientos, Todo tipo de piel",
    "status": "active",
    "admin_graphql_api_id": "gid://shopify/Product/8491723751724",
    "variants": [
        {
            "id": 48972868321580,
            "product_id": 8491723751724,
            "title": "Default Title",
            "price": "234500.00",
            "sku": "U-3513",
            "position": 1,
            "inventory_policy": "deny",
            "compare_at_price": null,
            "fulfillment_service": "manual",
            "inventory_management": "shopify",
            "option1": "Default Title",
            "option2": null,
            "option3": null,
            "created_at": "2024-05-23T20:02:16-05:00",
            "updated_at": "2024-05-28T21:38:51-05:00",
            "taxable": true,
            "barcode": "8429979435552",
            "grams": 189945000,
            "weight": 189945.0,
            "weight_unit": "kg",
            "inventory_item_id": 51013818614060,
            "inventory_quantity": 21,
            "old_inventory_quantity": 21,
            "requires_shipping": true,
            "admin_graphql_api_id": "gid://shopify/ProductVariant/48972868321580",
            "image_id": null
        }
    ],
    "options": [
        {
            "id": 10754192408876,
            "product_id": 8491723751724,
            "name": "Title",
            "position": 1,
            "values": [
                "Default Title"
            ]
        }
    ],
    "images": [
        {
            "id": 42309886148908,
            "alt": "Sesretinal Mature Skin Liposomal Serum 30ml SESDERMA® - LASKIN",
            "position": 1,
            "product_id": 8491723751724,
            "created_at": "2023-08-07T22:09:37-05:00",
            "updated_at": "2024-01-10T20:10:25-05:00",
            "admin_graphql_api_id": "gid://shopify/ProductImage/42309886148908",
            "width": 1024,
            "height": 1024,
            "src": "https://cdn.shopify.com/s/files/1/0789/5597/0860/products/sesretinal-mature-skin-liposomal-serum-30ml-sesderma-r-laskin-34731408392492.png?v=1704935425",
            "variant_ids": []
        }
    ],
    "image": {
        "id": 42309886148908,
        "alt": "Sesretinal Mature Skin Liposomal Serum 30ml SESDERMA® - LASKIN",
        "position": 1,
        "product_id": 8491723751724,
        "created_at": "2023-08-07T22:09:37-05:00",
        "updated_at": "2024-01-10T20:10:25-05:00",
        "admin_graphql_api_id": "gid://shopify/ProductImage/42309886148908",
        "width": 1024,
        "height": 1024,
        "src": "https://cdn.shopify.com/s/files/1/0789/5597/0860/products/sesretinal-mature-skin-liposomal-serum-30ml-sesderma-r-laskin-34731408392492.png?v=1704935425",
        "variant_ids": []
    }
}

/*module.handler({
    httpMethod: 'POST', 
    path: '/api/product/updateproduct',
    headers: {},
    body: JSON.stringify(product2)
}, {}, (a, b) => {
    console.log(b);
})*/




/* module.handler({
    httpMethod: 'PUT', 
    path: '/api/order/modifyorder',
    headers: {},
    body: JSON.stringify(body)
}, {}, (a, b) => {
    console.log(b);
}) */

/* module.handler({
    httpMethod: 'GET',
    path: '/api/product/productshw',
    headers: {},
    body: {}
}).then((response) => {
    console.log(response);
});  */

/* 
module.handler({
    httpMethod: 'GET',
    path: '/api/product/products',
    headers: {},
    body: {}
}).then((response) => {
    console.log(response);
});
 */


/*   module.handler({
    httpMethod: 'GET',
    path: '/api/product/procedureshw',
    headers: {},
    body: {}
}).then((response) => {
    console.log(response);
});  */
 

/*module.handler({
    httpMethod: 'GET',
    path: '/api/product/productshw',
    headers: {},
    body: {}
}).then((response) => {
    console.log(response);
});*/



const order1 = {
    "response_code": 0,
    "response_message": "error,create",
    "order_ref": "5611807768876",
    "order_id": "1111",
    "state": 1
}

/* module.handler({
    httpMethod: 'POST',
    path: '/api/order/modifyorder',
    headers: {},
    body: JSON.stringify(order1)
}).then((response) => {
    console.log("OK");
}); */